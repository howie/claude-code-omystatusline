# 🎉 新增互動式安裝程式與音訊提醒功能

## 📋 概述

此 PR 新增了友善的互動式安裝程式，讓使用者可以輕鬆設定音訊提醒功能，並將所有文件更新為繁體中文台灣用語。

## ✨ 主要變更

### 1. 🎨 互動式安裝程式 (`install.sh`)

新增完整的 CLI 互動式安裝工具，提供：

- **🌏 語系選擇**
  - 預設：English
  - 可選：繁體中文
  - 完整雙語介面支援

- **美觀的使用者介面**
  ```
  ╔════════════════════════════════════════════════════════════════╗
  ║         Claude Code omystatusline                         ║
  ╚════════════════════════════════════════════════════════════════╝
  ```

- **五步驟安裝流程**
  1. ✓ 檢查系統相依套件（Go、Git）
  2. ✓ 編譯 statusline 二進制檔案
  3. ✓ 音訊提醒設定（可選）
  4. ✓ 安裝檔案到 ~/.claude/
  5. ✓ 自動設定 config.json

- **三種音訊提醒模式**
  - 🔊 系統預設音效（推薦）
  - 🎵 自訂音訊檔案
  - 🗣️ 語音播報（TTS）

### 2. 🔔 音訊提醒功能

新增完整的音訊提醒系統：

- **自動產生通知腳本**：根據使用者選擇產生對應的 `play-notification.sh`
- **跨平台支援**：支援 macOS 和 Linux（PulseAudio/ALSA）
- **智慧偵測**：語音播報模式可偵測任務狀態（成功/失敗）
- **自動設定 hooks**：安裝程式會自動設定 `assistantMessageEnd` hook

### 3. 🌏 繁體中文台灣用語

將所有中文文件更新為台灣慣用語：

| 簡體/其他 | 繁體台灣 |
|---------|---------|
| 音频 | 音訊 |
| 文件 | 檔案 |
| 系统 | 系統 |
| 默认 | 預設 |
| 程序 | 程式 |
| 终端 | 終端機 |

### 4. 📦 Makefile 更新

新增更彈性的安裝選項：

```bash
make install         # 互動式安裝（推薦，包含音訊設定）
make install-simple  # 簡單安裝（僅狀態列）
make help           # 顯示完整說明
```

### 5. 📖 文件更新

- **README.md**：新增互動式安裝說明，中英文雙語更新
- **docs/features/audio-notifications/README.md**：完整的音訊提醒文件（繁體中文）
  - 三種安裝方案
  - 自訂音訊檔案教學
  - 疑難排解指南
  - 最佳實務建議

## 🎯 功能特色

✅ **多語系支援**：英文和繁體中文雙語介面（預設英文）
✅ **使用者友善**：直覺的互動式安裝體驗
✅ **彈性選擇**：可選擇安裝或跳過音訊提醒
✅ **多種模式**：系統音效、自訂檔案、語音播報
✅ **自動設定**：無需手動編輯 config.json
✅ **完整文件**：繁體中文台灣用語，清楚易懂
✅ **跨平台**：支援 macOS 和 Linux
✅ **錯誤處理**：完整的驗證和錯誤訊息

## 📸 安裝流程範例

```bash
$ make install

╔════════════════════════════════════════════════════════════════╗
║         Claude Code omystatusline                         ║
╚════════════════════════════════════════════════════════════════╝

? 請選擇語言 / Choose Language
  1. English
  2. 繁體中文 (Traditional Chinese)
Choose / 選擇 (1-2) [1]: 2

步驟 1/5: 檢查系統相依套件

✓ 找到 Go: go1.21.0
✓ 找到 Git: 2.39.2

步驟 2/5: 編譯 statusline 二進制檔案

ℹ 正在編譯 statusline-go...
✓ 編譯完成

步驟 3/5: 音訊提醒設定

ℹ 音訊提醒功能可以在 Claude 完成任務時播放提示音

? 是否要安裝音訊提醒功能？ [Y/n]: y

? 請選擇音訊提醒方式：
  1. 🔊 使用系統預設音效（推薦）
  2. 🎵 使用自訂音訊檔案
  3. 🗣️ 使用語音播報（Text-to-Speech）
請選擇 (1-3): 1

步驟 4/5: 安裝檔案到 ~/.claude

ℹ 建立安裝目錄...
✓ 目錄已建立
ℹ 複製主要檔案...
✓ 主要檔案已安裝
ℹ 設定音訊提醒功能...
✓ 已設定系統預設音效

✓ 所有檔案已安裝完成

步驟 5/5: 設定 Claude Code

ℹ 建立新的設定檔
✓ 已設定狀態列與音訊提醒

╔════════════════════════════════════════════════════════════════╗
║                     ✓ 安裝完成！                            ║
╚════════════════════════════════════════════════════════════════╝
```

## 🧪 測試計畫

### 安裝測試
- [x] 互動式安裝（選擇系統音效）
- [x] 互動式安裝（選擇自訂檔案）
- [x] 互動式安裝（選擇語音播報）
- [x] 互動式安裝（不安裝音訊）
- [x] 簡單安裝（make install-simple）

### 功能測試
- [x] 狀態列正常顯示
- [ ] 音訊提醒在 Claude 完成回覆時播放
- [ ] 語音播報正確辨識任務狀態
- [ ] config.json 正確設定

### 跨平台測試
- [ ] macOS 測試
- [ ] Linux (Ubuntu) 測試
- [ ] Linux (其他發行版) 測試

## 📝 檔案變更

### 新增檔案
- `install.sh` - 互動式安裝程式

### 修改檔案
- `Makefile` - 新增 install/install-simple targets
- `README.md` - 更新安裝說明（中英文）
- `docs/features/audio-notifications/README.md` - 完整音訊提醒文件

## 🔗 相關文件

- [音訊提醒功能文件](docs/features/audio-notifications/README.md)
- [Claude Code Hooks 文件](https://docs.anthropic.com/claude/docs/hooks)

## ⚠️ 破壞性變更

無破壞性變更。

- 現有的 `make install` 改為執行互動式安裝
- 新增 `make install-simple` 提供原本的簡單安裝
- 已安裝的使用者不受影響

## 💡 後續改進建議

- [ ] 新增自動偵測可用的音訊播放工具
- [ ] 提供更多預設音效選擇
- [ ] 新增音訊提醒的開關指令
- [ ] 支援更多 TTS 引擎

## 🙏 致謝

感謝 Claude Code 社群的回饋和建議！

---

🤖 Generated with [Claude Code](https://claude.com/claude-code)
